/* Shared Quantum Background System */
/* Used by: MyScenesPage, LoginPage, SignUpPage, ShowcaseGallery */

/* Layer 1: Fixed clip-path background (z-index: -3) */
.bg-gallery-layer {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100vh;
  min-height: 100vh;
  pointer-events: none;
  z-index: -3; /* Behind parallax layers, below content */
  background:
    linear-gradient(120deg, #0a0f1a 60%, #1a2a3a 100%),
    repeating-linear-gradient(-30deg, #00f0ff22 0 2px, transparent 2px 40px);
  opacity: 0.68;
  will-change: transform, opacity, filter;
  transition:
    transform 1.2s cubic-bezier(0.4, 0, 0.2, 1),
    opacity 0.9s ease,
    filter 0.9s ease;
  transform-origin: center;
}

/* Clip-path variants */
.bg-gallery-layer.bg-gallery-reality {
  clip-path: polygon(0 0, 100% 0, 100% 80%, 60% 100%, 0 80%);
}
.bg-gallery-layer.bg-gallery-probability {
  clip-path: polygon(0 10%, 100% 0, 100% 90%, 0 100%);
}
.bg-gallery-layer.bg-gallery-entanglement {
  clip-path: polygon(0 0, 100% 10%, 100% 100%, 40% 90%, 0 100%);
}
.bg-gallery-layer.bg-gallery-superposition {
  clip-path: polygon(0 0, 100% 0, 100% 100%, 20% 90%, 0 100%);
}

/* Layer 2 & 3: Parallax layers (z-index: -2 and -1) */
.parallax-bg-layer,
.parallax-fg-layer {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 40vh;
  z-index: -1;
  pointer-events: none;
  /* Fade the bottom edge to avoid a hard horizontal line */
  -webkit-mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 0) 85%);
  mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 0) 85%);
}

.parallax-bg-layer {
  z-index: -2; /* Behind foreground layer */
}

.parallax-fg-layer {
  z-index: -1; /* In front of background layer */
  mix-blend-mode: screen; /* Let colors blend through */
  opacity: 0.5; /* More transparent */
}

/* Layer 4: Scrolling scene backgrounds (inside content sections) */
.scene-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
  pointer-events: none;
  background:
    linear-gradient(120deg, #0a0f1a 60%, #1a2a3a 100%),
    repeating-linear-gradient(-30deg, #00f0ff22 0 2px, transparent 2px 40px);
  opacity: 1.88;
  /* Fade mask at top to blend into quantum SVG gradients above */
  -webkit-mask-image: linear-gradient(
    to bottom,
    rgba(0, 0, 0, 0) 0%,
    rgba(0, 0, 0, 0.3) 15%,
    rgba(0, 0, 0, 1) 35%
  );
  mask-image: linear-gradient(
    to bottom,
    rgba(0, 0, 0, 0) 0%,
    rgba(0, 0, 0, 0.3) 5%,
    rgba(0, 0, 0, 1) 35%
  );
}

/* Clip-path variants for scrolling backgrounds */
.scene-background.bg-gallery-reality {
  clip-path: polygon(0 0, 100% 0, 100% 80%, 60% 100%, 0 80%);
}
.scene-background.bg-gallery-probability {
  clip-path: polygon(0 10%, 100% 0, 100% 90%, 0 100%);
}
.scene-background.bg-gallery-entanglement {
  clip-path: polygon(0 0, 100% 10%, 100% 100%, 40% 90%, 0 100%);
}
.scene-background.bg-gallery-superposition {
  clip-path: polygon(0 0, 100% 0, 100% 100%, 20% 90%, 0 100%);
}
