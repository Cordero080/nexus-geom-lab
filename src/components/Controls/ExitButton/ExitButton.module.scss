// ExitButton.module.scss
// Fixed position exit button with red/pink theme and beam effect

// Variables
$exit-gradient: linear-gradient(90deg, #ff3366 0%, #ff0066 100%);
$exit-color: #ff3366;
$exit-color-alt: #ff0066;
$text-color-default: #ff3366;
$text-color-hover: #ffffff;
$bg-color: rgba(10, 15, 26, 0.4);
$font-primary: 'Orbitron', 'JetBrains Mono', monospace;

// Mixins
@mixin glow-effect($color, $intensity: 0.3) {
  box-shadow: 
    0 0 20px rgba($color, $intensity),
    inset 0 0 20px rgba($color, $intensity * 0.17);
}

@mixin enhanced-glow($color) {
  box-shadow: 
    0 0 30px rgba($color, 0.5),
    0 0 15px rgba($exit-color-alt, 0.4),
    inset 0 0 30px rgba($color, 0.1);
}

// Main button
.exitButton {
  // Position - Fixed to bottom left of viewport
  position: fixed;
  bottom: 30px;
  left: 30px;
  z-index: 1000;
  
  // Layout
  display: inline-block;
  padding: 12px 24px;
  
  // Typography
  font-family: $font-primary;
  font-size: 14px;
  font-weight: 700;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  color: $text-color-default;
  
  // Background with gradient border effect
  background: 
    linear-gradient($bg-color, $bg-color) padding-box,
    $exit-gradient border-box;
  
  // Border
  border: 2px solid transparent;
  border-radius: 0;
  
  // Angled corners clip-path (matching shared.css)
  clip-path: polygon(
    14px 0,
    100% 0,
    100% calc(100% - 14px),
    calc(100% - 14px) 100%,
    0 100%,
    0 14px
  );
  
  // Shadow - Red/pink glow
  @include glow-effect($exit-color);
  
  // Cursor
  cursor: pointer;
  
  // Transition
  transition: all 0.3s ease;
  
  // Remove default button styles
  outline: none;
  overflow: visible;
  
  // Fade out by default
  opacity: 0.3;

  // Hover effect
  &:hover {
    // Fade in fully
    opacity: 1;
    
    // Enhanced glow
    @include enhanced-glow($exit-color);
    
    // Brighter text
    color: $text-color-hover;
    text-shadow: 0 0 10px rgba($exit-color, 0.8);
    
    // Slight lift
    transform: translateY(-2px);

    .beamScanEffect {
      opacity: 1;
    }
  }

  // Active/Click effect
  &:active {
    // Push down
    transform: translateY(0);
    
    // Dimmer glow
    box-shadow: 0 2px 12px rgba($exit-color, 0.3);
  }
}

// Beam scan effect
.beamScanEffect {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 2px;
  background: linear-gradient(
    90deg,
    transparent 0%,
    $exit-color 50%,
    transparent 100%
  );
  transform: translateX(-100%);
  animation: beamScanExit 2s linear infinite;
  z-index: 4;
  opacity: 0;
  transition: opacity 0.3s;
}

// Beam scan animation
@keyframes beamScanExit {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}
